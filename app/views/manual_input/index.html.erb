<div class="container-fluid" id="stepeditor">
  <div class="row">
    <div class="col-6">
      <div id="jsoneditor" style="height: 400px;"></div>
    </div>
    <div class="col-3">
      <div id="eventData" style="height: 200px;"></div>
      <div id="stepOutput" style="height: 200px;"></div>
    </div>
    <div class="col-3">
      <button v-on:click="fire">Fire</button>
    </div>
  </div>
</div>

<script type="text/javascript">

var func = function() {

  var setUpTheJsonEditor = function (params) {

    var container = document.getElementById(params.id);
    var options = {};
    var editor = new JSONEditor(container, options);

    editor.set(params.data);

    return editor;
  };

  var step = {
    "type": 'EventFormatter',
    "config": {
      "data_merge": "merge",
      "instructions": {
        "full_name" : "{{first_name}} {{last_name}}"
      }
    }
  };

  var eventData = {
    first_name: 'Darren',
    last_name: 'Cauthon'
  }

  var app = new Vue({
    el: '#stepeditor',
    data: {
      jsonEditor: setUpTheJsonEditor( { id: 'jsoneditor', data: step } ),
      eventData: setUpTheJsonEditor( { id: 'eventData', data: eventData } ),
      stepOutput: setUpTheJsonEditor( { id: 'stepOutput', data: {} } )
    },
    methods: {
      fire: function() {
	console.log(this.jsonEditor.get());
      }
    }
  });

};

document.addEventListener("DOMContentLoaded", func);


</script>
