<div class="row">

  <div class="col-md-3">
    <div class="box box-primary">
      <div class="box-header with-border">
        <h3 class="box-title">Details</h3>
      </div>
      <div class="box-body">
        <form role="form">
	  <div class="form-group">
	    <label>Id</label>
	    <input type="text" class="form-control" placeholder="Id">
	  </div>
	</form>
      </div>
      <div class="box-footer">
      </div>
    </div>
  </div>

  <div class="col-md-9">
    <div class="box box-primary">
      <div class="box-header with-border">
        <h3 class="box-title">Flow</h3>
      </div>
      <div class="box-body">
        <div id="mynetwork" style="height:400px"></div>
      </div>
      <div class="box-footer">
      </div>
    </div>
  </div>

</div>

<script type="text/javascript">

var func = function() {

  $.getJSON('/workflows/json/simple', function(data) {

    var workflow = data.workflow;

    console.log(workflow.steps);

    for(var i = 0; i < workflow.steps.length; i++){
      workflow.steps[i].label = workflow.steps[i].step_id;
      console.log(workflow.steps[i]);
    }

    var nodes = new vis.DataSet(workflow.steps);

    // create an array with edges
    var edges = new vis.DataSet([
      {from: 1, to: 3},
      {from: 1, to: 2},
      {from: 2, to: 4},
      {from: 2, to: 5},
      {from: 3, to: 3}
    ]);

    // create a network
    var container = document.getElementById('mynetwork');
    var data = {
      nodes: nodes,
      edges: edges
    };
    var options = {};
    var network = new vis.Network(container, data, options);

  });
};

document.addEventListener('DOMContentLoaded', func);

</script>
