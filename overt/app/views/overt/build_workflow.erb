<script type="text/javascript">
  document.addEventListener("DOMContentLoaded", function(){
    jQuery('#create').click(function(x){
      var data = {
        id: jQuery('[data-map=id]').val(),
        name: jQuery('[data-map=name]').val(),
      };
      jQuery.post('/overt/workflows/create-workflow', data, function(){
        window.location = '/overt/workflows/view/' + data.id;
      });
    });

    jQuery('input[name=name').keyup(function(x){
      jQuery('input[name=id]').val(jQuery('input[name=name]').val().toLowerCase().replace(/[\W_]+/g, "-"));
    });
  });
</script>

<span><a href="/overt">Home</a></span>
<span>/</span>
<span><a href="/overt/workflows">Workflows</a></span>
<span>/</span>
<span>Create a New Workflow</span>

<fieldset>
  <legend>Fields</legend>

    <label for="id">Id</label>
    <input type="text" name="id" data-map="id" value="<%=h SecureRandom.uuid %>" required readonly>

    <label for="name">Name</label>
    <input type="text" name="name" data-map="name" value="" required>

    <button id="create">Create This Workflow</button>
</fieldset>